(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},n={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/wave/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00a1":function(t,e,a){"use strict";var s=a("9302"),n=a.n(s);n.a},"0aea":function(t,e,a){"use strict";var s=a("802b"),n=a.n(s);n.a},"0d4c":function(t,e,a){"use strict";var s=a("d054"),n=a.n(s);n.a},"1d5d":function(t,e,a){},"237f":function(t,e,a){},2664:function(t,e,a){},"2c0e":function(t,e,a){"use strict";var s=a("3c97"),n=a.n(s);n.a},"32ec":function(t,e,a){},"3a10":function(t,e,a){},"3ae5":function(t,e,a){"use strict";var s=a("b7e9"),n=a.n(s);n.a},"3c97":function(t,e,a){},4391:function(t,e,a){},5330:function(t,e,a){"use strict";var s=a("2664"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4");var s=a("5530"),n=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("bc3a")),i=a.n(n),o=a("a7fe"),r=a.n(o),c=(a("4989"),a("ecee")),l=a("ad3d"),d=a("c074"),u=a("f2d1"),p=a("2b0e"),m=a("7bb1"),v=a("4c93"),f=(a("99af"),function(t){var e=new Date(1e3*t),a=e.getFullYear(),s=e.getMonth()+1,n=e.getDay();return"".concat(a,"-").concat(s,"-").concat(n)}),h=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"outer-container"},[a("my-canvas"),a("router-link",{attrs:{to:"/"}},[a("button",{staticClass:"btn homepage-btn"},[t._v("回到首頁")])]),a("div",{staticClass:"login-container col-sm-6"},[a("form",{on:{submit:t.signin}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control mt-5",attrs:{type:"email",placeholder:"請輸入帳號"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control mt-5",attrs:{type:"password",placeholder:"請輸入密碼",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),a("div",{staticClass:"mt-5 d-flex justify-content-around"},[a("button",{staticClass:"btn border border-white text-white login-btn"},[t._v(" 忘記密碼？ ")]),a("button",{staticClass:"btn border border-white text-white login-btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.signin(e)}}},[t._v(" 登入 ")])])])])],1)},_=[],b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"canvas-container"},[a("canvas",{attrs:{id:"mycanvas"}})])}],y={data:function(){return{ww:window.innerWidth,wh:window.innerHeight}},mounted:function(){var t=this,e=document.getElementById("mycanvas"),a=e.getContext("2d");e.width=t.ww,e.height=t.wh,a.beginPath();var s=0;function n(){s+=1,a.fillStyle="black",a.fillRect(0,0,t.ww,t.wh),a.strokeStyle="rgba(255, 255, 255, 0.2)",a.lineWidth=3;var e=t.wh/2;a.beginPath();for(var n=0;n<t.ww;n+=1){var i=s/40,o=e*Math.cos(i);a.lineTo(n,o+t.wh/2)}a.stroke(),a.beginPath();for(var r=0;r<t.ww;r+=1){var c=s/50,l=e*Math.sin(c);a.lineTo(r,l+t.wh/2)}a.stroke(),a.beginPath();for(var d=0;d<t.ww;d+=1){var u=s/30,p=e*Math.sin(u);a.lineTo(d,p+t.wh/2)}a.stroke(),a.beginPath();for(var m=0;m<t.ww;m+=1){var v=s/25,f=e*Math.sin(v);a.lineTo(m,f+t.wh/2)}a.stroke()}setInterval(n,70)}},x=y,w=(a("fec6"),a("2877")),P=Object(w["a"])(x,b,C,!1,null,"2d5edeae",null),k=P.exports,$={components:{MyCanvas:k},name:"Login",data:function(){return{user:{username:"",password:""}}},methods:{signin:function(){var t="".concat("https://vue-course-api.hexschool.io/","admin/signin"),e=this,a=document.querySelector(".outer-container");this.$http.post(t,e.user).then((function(t){t.data.success&&(a.classList.add("fade"),setTimeout((function(){e.$router.push("/welcome")}),1e3))}))}}},S=$,M=(a("ae63"),Object(w["a"])(S,g,_,!1,null,"4955985e",null)),T=M.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"outer-container"},[a("Navbar"),a("AlertMsg"),a("router-view")],1)},O=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-container d-flex align-content-center p-3 "},[a("button",{staticClass:"sign-out-btn ml-2 ",on:{click:t.signout}},[a("font-awesome-icon",{attrs:{icon:"sign-out-alt"}})],1),a("div",{staticClass:"link-group col-lg-8 d-flex justify-content-around align-items-center"},[a("router-link",{attrs:{to:"/admin/products"}},[a("div",{staticClass:"navbar-link"},[t._v("產品")])]),a("router-link",{attrs:{to:"/admin/coupon"}},[a("div",{staticClass:"navbar-link",attrs:{"active-class":"active"}},[t._v(" 優惠券 ")])]),a("router-link",{attrs:{to:"/admin/orderlist"}},[a("div",{staticClass:"navbar-link",attrs:{"active-class":"active"}},[t._v(" 訂單 ")])])],1),t._m(0)])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"drag"},[a("div")])}],N=a("1157"),A=a.n(N),D={name:"Navbar",data:function(){return{mobile:!1}},methods:{clickEvt:function(){var t=this;t.$emit("clickEvt")},signout:function(){var t="".concat("https://vue-course-api.hexschool.io/","logout"),e=this;this.$http.post(t).then((function(t){t.data.success&&e.$router.push("/login")}))}},mounted:function(){var t=this;A()(window).resize((function(){window.innerWidth<414&&(t.mobile=!0)})),A()(".drag").click((function(){A()(".drag").toggleClass("active"),A()(".nav-container").toggleClass("active")}))}},I=D,B=(a("0aea"),Object(w["a"])(I,E,j,!1,null,"12a8264c",null)),U=B.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert",class:t.showSwitch},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible border-0",class:"alert-"+e.status},[a("p",{staticClass:"text-white mt-1"},[t._v(" "+t._s(e.message)+" ")]),a("button",{staticClass:"close text-white",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},Q=[],H=(a("4160"),a("a434"),a("d3b7"),a("159b"),{name:"AlertMsg",data:function(){return{messages:[],show:!1}},computed:{showSwitch:function(){var t=this;return!1===t.show?"fadeOut":"fadeIn"}},methods:{updateMessage:function(t,e){var a=this;a.show=!0;var s=Math.floor(new Date/1e3);a.messages.push({message:t,status:e,timeStamp:s}),a.removeMessageWithDelay(s)},removeMessage:function(t){var e=this;e.show=!1,setTimeout((function(){e.messages.splice(t,1)}),300)},removeMessageWithDelay:function(t){var e=this,a=function(){return new Promise((function(t){setTimeout((function(){e.show=!1,t()}),3e3)}))};a().then((function(){setTimeout((function(){e.messages.forEach((function(a,s){a.timeStamp===t&&e.messages.splice(s,1)}))}),500)}))}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}))}}),R=H,W=(a("8dcd"),Object(w["a"])(R,L,Q,!1,null,"0575caf4",null)),F=W.exports,V={name:"Admin",components:{Navbar:U,AlertMsg:F}},Y=V,J=(a("8c8f"),Object(w["a"])(Y,q,O,!1,null,"b70edf04",null)),z=J.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"outer-container",class:t.fade},[a("my-canvas"),a("div",{staticClass:"container-fluid d-flex justify-content-center"},[a("div",{staticClass:"d-flex flex-column welcome-container align-items-center"},[t._m(0),a("router-link",{staticClass:"welcome-link",attrs:{to:"/admin/products"},on:{click:function(e){t.show=!1}}},[t._v(" 產品 ")]),a("router-link",{staticClass:"welcome-link",attrs:{to:"/admin/coupon"}},[t._v(" 優惠券 ")]),a("router-link",{staticClass:"welcome-link",attrs:{to:"/admin/orderlist"}},[t._v(" 訂單 ")]),a("a",{staticClass:"welcome-link",on:{click:t.signout}},[t._v(" 登出 ")])],1)])],1)},K=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-items-baseline welcome-header"},[a("h1",{staticClass:"text-white"},[t._v("歡迎")]),a("h3",{staticClass:"text-white"},[t._v("想先做什麼？")])])}],X=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"canvas-container"},[a("canvas",{attrs:{id:"mycanvas"}})])}],tt={data:function(){return{ww:window.innerWidth,wh:window.innerHeight}},mounted:function(){var t=this,e=document.getElementById("mycanvas"),a=e.getContext("2d");e.width=t.ww,e.height=t.wh,a.beginPath();var s=0;function n(){s+=1,a.fillStyle="black",a.fillRect(0,0,t.ww,t.wh),a.strokeStyle="rgba(255, 255, 255, 0.2)",a.lineWidth=3;var e=t.wh/2;a.beginPath();for(var n=0;n<t.ww;n+=1){var i=s/40,o=e*Math.cos(i);a.lineTo(n,o+t.wh/2)}a.stroke(),a.beginPath();for(var r=0;r<t.ww;r+=1){var c=s/50,l=e*Math.sin(c);a.lineTo(r,l+t.wh/2)}a.stroke(),a.beginPath();for(var d=0;d<t.ww;d+=1){var u=s/30,p=e*Math.sin(u);a.lineTo(d,p+t.wh/2)}a.stroke(),a.beginPath();for(var m=0;m<t.ww;m+=1){var v=s/25,f=e*Math.sin(v);a.lineTo(m,f+t.wh/2)}a.stroke()}setInterval(n,70)}},et=tt,at=(a("00a1"),Object(w["a"])(et,X,Z,!1,null,"ffa2a41a",null)),st=at.exports,nt={name:"Welcome",data:function(){return{show:!0}},components:{MyCanvas:st},methods:{signout:function(){var t="".concat("https://vue-course-api.hexschool.io/","logout"),e=this;this.$http.post(t).then((function(t){t.data.success&&(e.show=!1,setTimeout((function(){e.$router.push("/login")}),3e3))}))}},computed:{fade:function(){var t=this;return!1===t.show?"fade":""}}},it=nt,ot=(a("96ee"),Object(w["a"])(it,G,K,!1,null,"497d438a",null)),rt=ot.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Searchbar",{ref:"child",attrs:{genres:t.genres,sortModes:t.sortModes},on:{sendQuery:t.getQuery,endSearch:function(e){t.displayPage=!0},startSearch:function(e){t.displayPage=!1}}}),a("div",{class:t.addBtnSwitch,on:{click:function(e){return t.openProductModal(!0)}}}),a("div",{staticClass:"container-fluid d-flex flex-column align-items-center position-relative",style:t.searchingSwitch,attrs:{id:"productpage"}},[a("div",{staticClass:"p-2 mt-4"},[a("h2",{staticClass:"text-white text-center"},[t._v("產品管理")]),a("h3",{staticClass:"text-white text-center"},[t._v(" 第"+t._s(t.pagination.current_page)+"頁 ")]),t.isSearching?a("div",{staticClass:"d-flex"},[a("h5",{staticClass:"text-white m-0"},[t._v(" 搜尋:"+t._s(t.query)+" ")]),a("button",{staticClass:"btn-border-info ml-2",on:{click:t.cancelSearching}},[t._v(" 取消搜尋 ")])]):t._e()]),a("div",{staticClass:"table-responsive-lg col-sm-12"},[a("table",{staticClass:"table list-table mb-4 mt-2 col-12"},[t._m(0),a("tbody",t._l(t.products,(function(e){return a("tr",{key:e.title,staticClass:"text-white"},[a("td",{staticClass:"text-center p-1"},[e.imageUrl?a("img",{staticClass:"product-img",attrs:{src:e.imageUrl}}):a("span",[t._v("無圖片")])]),a("td",{staticClass:"text-center p-1"},[t._v(" "+t._s(e.title)+" "),e.is_enabled?a("p",{staticClass:"text-info"},[t._v(" 啟用中 ")]):t._e()]),a("td",{staticClass:"text-center p-1"},[t._v(" "+t._s(e.unit)+" ")]),a("td",{staticClass:"text-center p-1 "},[t._v(" "+t._s(e.content)+" ")]),a("td",{staticClass:"text-center p-1"},[t._v(" $ "+t._s(e.origin_price)+" ")]),a("td",{staticClass:"text-center p-1"},[e.price?a("span",[t._v("$ "+t._s(e.price))]):a("span",[t._v("無")])]),a("td",{staticClass:"text-center p-1"},[t._v(" "+t._s(e.category)+" ")]),a("td",{staticClass:"text-center p-1"},[a("button",{staticClass:"btn btn-border-white",on:{click:function(a){return t.openDescription(e)}}},[t._v(" 查看商品描述 ")])]),a("td",{staticClass:" text-center p-2 align-middle"},[a("div",{staticClass:"d-flex flex-column"},[a("button",{staticClass:"btn btn-border-primary d-block mb-1",on:{click:function(a){return t.openProductModal(!1,e)}}},[t._v(" 編輯 ")]),a("button",{staticClass:"btn btn-border-danger d-block mt-1",on:{click:function(a){return a.preventDefault(),t.openDeleteModal(e)}}},[t._v(" 刪除 ")])])])])})),0)])]),t.isSearching?t._e():a("Pagination",{attrs:{pagination:t.pagination},on:{turnTo:t.changePage}})],1),a("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"}},[a("div",{staticClass:"modal-dialog  modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateProducts(e)}}},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("新增商品")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){t.isAdding=!1}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"image"}},[t._v("圖片網址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"imageUrl",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"customFile"}},[t._v("上傳圖片")]),a("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile",name:"file-to-upload"},on:{change:t.uploadImg}})]),a("img",{staticClass:"img-fluid",attrs:{src:t.tempProduct.imageUrl}})]),a("div",{staticClass:"col-sm-8"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("商品名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入名稱",required:""},domProps:{value:t.tempProduct.title},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"title",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"artist"}},[t._v("歌手/樂團名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"text",id:"artist",placeholder:"請輸入名稱",required:""},domProps:{value:t.tempProduct.unit},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"unit",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"date"}},[t._v("發行日期")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"date",id:"date"},domProps:{value:t.tempProduct.content},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"content",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"category"}},[t._v("分類")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{id:"category"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.tempProduct,"category",e.target.multiple?a:a[0])}}},t._l(t.genres,(function(e){return a("option",{key:e.title,domProps:{value:e.title}},[t._v(" "+t._s(e.title)+" ")])})),0)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orgin-price"}},[t._v("原價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"text",id:"orgin-price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"origin_price",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"sale-price"}},[t._v("售價")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"text",id:"sale-price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"price",e.target.value)}}})]),a("div",{staticClass:"col-sm-8 form-group"},[a("div",{staticClass:"form-check",staticStyle:{"padding-left":"0px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"d-inline-block ml-2",attrs:{type:"radio",name:"enable_status",id:"is_enabled",required:""},domProps:{value:1,checked:t._q(t.tempProduct.is_enabled,1)},on:{change:function(e){return t.$set(t.tempProduct,"is_enabled",1)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 啟用 ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"d-inline-block ml-2",attrs:{type:"radio",name:"enable_status",id:"not_enabled"},domProps:{value:0,checked:t._q(t.tempProduct.is_enabled,0)},on:{change:function(e){return t.$set(t.tempProduct,"is_enabled",0)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"not_enabled"}},[t._v(" 無 ")])])])])]),a("div",{staticClass:"form-group col-12"},[a("label",{attrs:{for:"description"}},[t._v("商品描述")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:" form-control",staticStyle:{height:"300px"},attrs:{type:"text",id:"description",placeholder:"請輸入商品描述"},domProps:{value:t.tempProduct.description},on:{input:function(e){e.target.composing||t.$set(t.tempProduct,"description",e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.isAdding=!1}}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" 確定 ")])])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" 刪除商品："+t._s(t.tempProduct.title)+" ")]),t._m(1)]),a("div",{staticClass:"modal-body"},[t._v(" 確定要刪除商品："+t._s(t.tempProduct.title)+"嗎？ ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.deleteProduct}},[t._v(" 確定 ")])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"descriptionModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v(" 商品描述 - "+t._s(t.tempProduct.title)+" ")]),t._m(2)]),a("div",{staticClass:"modal-body",staticStyle:{"white-space":"pre-line"}},[t._v(" "+t._s(t.tempProduct.description)+" ")]),t._m(3)])])])],1)},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center p-2 text-white",attrs:{width:"120"}},[a("h5",[t._v("商品圖")])]),a("th",{staticClass:"text-center p-2 text-white"},[a("h5",[t._v("商品名稱")])]),a("th",{staticClass:"text-center p-2 text-white"},[a("h5",[t._v("歌手/樂團")])]),a("th",{staticClass:"text-center p-2 text-white",attrs:{width:"120"}},[a("h5",[t._v("發行日期")])]),a("th",{staticClass:"text-center p-2 text-white",attrs:{width:"80"}},[a("h5",[t._v("原價")])]),a("th",{staticClass:"text-center p-2 text-white",attrs:{width:"80"}},[a("h5",[t._v("售價")])]),a("th",{staticClass:"text-center p-2 text-white",attrs:{width:"100"}},[a("h5",[t._v("分類")])]),a("th",{staticClass:"text-center p-2 text-white"},[a("h5",[t._v("商品描述")])]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(" × ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")])])}],dt=(a("caad"),a("07ac"),a("2532"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content bg-black search",class:t.searchSwitch},[a("div",{staticClass:"search-btn notice-btn d-flex justify-content-center btn-fixed-position-responsive",on:{click:t.startSearch}},[a("span",{staticClass:"d-flex align-items-center "},[a("font-awesome-icon",{staticClass:"icon-l",attrs:{icon:"search"}})],1)]),a("div",{staticClass:"container mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"content-head col-sm-12 d-flex align-items-center"},[a("h2",{staticClass:"font-l"},[t._v(" 搜尋 ")]),a("button",{staticClass:"btn-border-white clear-btn ml-2",on:{click:t.clear}},[t._v(" 重設 ")]),a("button",{staticClass:"ml-auto content-close",on:{click:t.closePanel}},[t._v(" × ")])]),a("div",{staticClass:"content-body col-sm-12 mt-3"},[a("div",[a("form",{staticClass:"d-flex",on:{submit:t.sendQuery}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control col-sm-8",attrs:{type:"text",placeholder:"可以不輸入搜索詞直接排序"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),a("button",{staticClass:"btn ml-2 search d-flex align-items-center justify-content-center btn-border-white",attrs:{type:"submit"}},[a("font-awesome-icon",{staticClass:"icon-m",attrs:{icon:"search"}})],1)])]),t.genres?a("div",{staticClass:"section"},[t._m(0),a("div",{staticClass:"section-container"},t._l(t.genres,(function(e){return a("div",{key:e.title,staticClass:"section__box genre",on:{click:function(a){return t.toggleCheck(e,"query",".genre")}}},[t._v(" "+t._s(e.title)+" ")])})),0)]):t._e(),a("div",{staticClass:"section"},[t._m(1),a("div",{staticClass:"section__container sort-mode"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.sortType,expression:"sortType"}],staticClass:"d-inline-block ml-2",attrs:{type:"radio",value:"ascend",id:"ascend",name:"sortType"},domProps:{checked:t._q(t.sortType,"ascend")},on:{change:function(e){t.sortType="ascend"}}}),a("label",{attrs:{for:"ascend"}},[t._v("低至高")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sortType,expression:"sortType"}],staticClass:"d-inline-block ml-2",attrs:{type:"radio",value:"descend",id:"descend",name:"sortType"},domProps:{checked:t._q(t.sortType,"descend")},on:{change:function(e){t.sortType="descend"}}}),a("label",{attrs:{for:"descend"}},[t._v("高至低")])]),t._l(t.sortModes,(function(e){return a("div",{key:e.title,staticClass:"section__box mode",attrs:{"data-sortMode":e.mode},on:{click:function(a){return t.toggleCheck(e,"sortMode",".mode")}}},[t._v(" "+t._s(e.title)+" ")])}))],2)])])])])])}),ut=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section__header"},[a("h2",{staticClass:"font-l"},[t._v("分類")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section__header"},[a("h2",{staticClass:"font-l"},[t._v("排序")])])}],pt={name:"Searchbar",props:["genres","sortModes"],data:function(){return{query:"",sortType:void 0,sortMode:void 0,showSearch:!1}},methods:{sendQuery:function(t){t.preventDefault();var e=this,a={query:e.query,sortType:e.sortType,sortMode:e.sortMode};0!==a.query.length?void 0===a.sortType&&void 0===a.sortMode||a.sortType&&a.sortMode?e.$emit("sendQuery",a):e.$bus.$emit("message:push","請設定排序模式","warning"):0===a.query.length&&(void 0===a.sortType&&void 0===a.sortMode?e.$bus.$emit("message:push","請設定排序模式或輸入搜索詞","warning"):a.sortType&&a.sortMode?e.$emit("sendQuery",a):e.$bus.$emit("message:push","請設定排序模式","warning"))},toggleCheck:function(t,e,a){var s=this,n=document.querySelectorAll(a);n.forEach((function(a){a.innerText!==t.title||a.classList.contains("active")?a.innerText===t.title&&a.classList.contains("active")?(s[e]=void 0,a.classList.remove("active")):a.innerText!==t.title&&a.classList.contains("active")&&a.classList.remove("active"):(s[e]=t.value,a.classList.add("active"))}))},startSearch:function(){var t=this;t.$emit("startSearch"),t.showSearch=!0},clear:function(){var t=this;t.query="",t.sortType=void 0,t.sortMode=void 0;var e=document.querySelectorAll(".mode"),a=document.querySelectorAll(".section__box");function s(t){t.forEach((function(t){t.classList.contains("active")&&t.classList.remove("active")}))}s(e),s(a)},closePanel:function(){var t=this;t.$emit("endSearch"),t.showSearch=!1,t.clear()}},computed:{searchSwitch:function(){var t=this;return!0===t.showSearch?"show":""}}},mt=pt,vt=(a("e318"),Object(w["a"])(mt,dt,ut,!1,null,"7abc1c44",null)),ft=vt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",attrs:{"data-value":"prev"},on:{click:function(e){return e.preventDefault(),t.turnPrev(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(" ＜")])]),t._l(t.pagination.total_pages,(function(e){return a("li",{key:e,staticClass:"page-item",on:{click:function(a){return a.preventDefault(),t.turnTo(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(" "+t._s(e)+" ")])])})),a("li",{staticClass:"page-item",attrs:{"data-value":"next"},on:{click:function(e){return e.preventDefault(),t.turnNext(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("＞ ")])])],2)])])},gt=[],_t={name:"Pagination",props:["pagination"],data:function(){return{}},methods:{turnTo:function(t){var e=this;e.$emit("turnTo",t)},turnPrev:function(){var t=this,e=t.pagination.current_page-1;t.turnTo(e)},turnNext:function(){var t=this;if(!1!==t.pagination.has_next){var e=t.pagination.current_page+1;t.turnTo(e)}}},updated:function(){var t=this,e=document.querySelectorAll(".page-item");e.forEach((function(e){parseInt(e.innerText,10)===t.pagination.current_page?e.classList.add("active"):e!==t.pagination.current_page&&e.classList.contains("active")&&e.classList.remove("active")}))}},bt=_t,Ct=(a("5330"),Object(w["a"])(bt,ht,gt,!1,null,"0a61bed9",null)),yt=Ct.exports,xt={name:"Product",components:{Pagination:yt,Searchbar:ft},props:["isMobile"],data:function(){return{products:[],isNew:!0,isAdding:!1,tempProduct:{},genres:[{value:"Rock/搖滾",title:"Rock/搖滾"},{value:"Pop/流行",title:"Pop/流行"},{value:"Dance/舞曲",title:"Dance/舞曲"},{value:"Country/鄉村",title:"Country/鄉村"},{value:"Hip-Hop/嘻哈",title:"Hip-Hop/嘻哈"},{value:"R&B/節奏藍調",title:"R&B/節奏藍調"}],sortModes:[{value:"content",title:"發行日期"},{value:"origin_price",title:"原價"},{value:"price",title:"售價"},{value:"is_enabled",title:"啟用狀態"}],pagination:{},query:"",isSearching:!1,displayPage:!0}},methods:{sortBy:function(t,e,a){if("content"===e)switch(a){case"ascend":return t.sort((function(t,e){var a=new Date(t.content),s=new Date(e.content),n=a.getTime(),i=s.getTime();return n>i?1:-1}));case"descend":return t.sort((function(t,e){var a=new Date(t.content),s=new Date(e.content),n=a.getTime(),i=s.getTime();return n<i?1:-1}));default:return new Error("nothing found")}else switch(a){case"ascend":return t.sort((function(t,a){return t[e]>a[e]?1:-1}));case"descend":return t.sort((function(t,a){return t[e]<a[e]?1:-1}));default:return new Error("nothing found")}},filterBy:function(t,e){return t.filter((function(t){return t.title.toUpperCase().includes(e.toUpperCase())||t.unit.toUpperCase().includes(e.toUpperCase())||t.category.toUpperCase()===e.toUpperCase()}))},getQuery:function(t){var e=this,a="",s="";e.isSearching=!0;var n="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/products/all");e.$http.get(n).then((function(n){var i,o,r=Object.values(n.data.products);switch(!0){case t.query.length>0:switch(i=e.filterBy(r,t.query),!0){case void 0!==t.sortMode&&void 0!==t.sortType:"ascend"===t.sortType?a="低至高":"descend"===t.sortType&&(a="高至低"),e.sortModes.forEach((function(a){a.value===t.sortMode&&(s=a.title,o=e.sortBy(i,a.value,t.sortType))})),e.products=o,e.query="".concat(t.query,"/").concat(s,"/").concat(a);break;case void 0===t.sortMode&&void 0===t.sortType:e.products=i,e.query=t.query;break;default:e.$bus.$emit("message:push","請設定排序模式或輸入搜索詞","warning"),e.cancelSearching();break}break;case 0===t.query.length:"ascend"===t.sortType?a="低至高":"descend"===t.sortType&&(a="高至低"),e.sortModes.forEach((function(a){a.value===t.sortMode&&(s=a.title,o=e.sortBy(r,a.value,t.sortType))})),e.products=o,e.query="".concat(s,"/").concat(a);break;default:break}e.closePanel()}))},cancelSearching:function(){var t=this;t.isSearching=!1,t.getProducts()},closePanel:function(){var t=this;t.$refs.child.closePanel()},getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/products?page=").concat(t),a=this;a.$http.get(e).then((function(t){a.products=t.data.products,a.pagination=t.data.pagination}))},openProductModal:function(t,e){var a=this;a.isNew=t,a.isNew?(a.tempProduct={},a.isAdding=!0):a.tempProduct=Object(s["a"])({},e),A()("#productModal").modal("show")},openDescription:function(t){var e=this;e.isNew=!1,e.tempProduct=t,A()("#descriptionModal").modal("show")},uploadImg:function(){var t=this,e=t.$refs.files.files[0],a=new FormData;a.append("file-to-upload",e);var s="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/upload");t.$http.post(s,a,{header:{"Content-type":"multipart/form-data"}}).then((function(e){e.data.success&&t.$set(t.tempProduct,"imageUrl",e.data.imageUrl)}))},updateProducts:function(){var t="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/product"),e=this;e.isAdding=!1;var a="post";e.isNew||(a="put",t="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/product/").concat(e.tempProduct.id)),e.$http[a](t,{data:e.tempProduct}).then((function(t){e.$bus.$emit("message:push",t.data.message,"info"),e.changePage(e.pagination.current_page),A()("#productModal").modal("hide"),e.tempProduct={}}))},openDeleteModal:function(t){var e=this;A()("#deleteModal").modal("show"),e.tempProduct=t},deleteProduct:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/product/").concat(t.tempProduct.id);t.$http.delete(e).then((function(e){t.$bus.$emit("message:push",e.data.message,"info"),t.changePage(),A()("#deleteModal").modal("hide")}))},changePage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.pagination.current_page=t,e.getProducts(t),A()("html, body").animate({scrollTop:0},500)}},computed:{addBtnSwitch:function(){var t=this;return t.isAdding?"add-btn active":"add-btn"},searchingSwitch:function(){var t=this;return t.displayPage?"":"display:none !important"}},mounted:function(){var t=this;t.changePage()}},wt=xt,Pt=(a("ba75"),Object(w["a"])(wt,ct,lt,!1,null,"8c2cc20c",null)),kt=Pt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Searchbar",{ref:"child",attrs:{genres:t.genres,sortModes:t.sortModes},on:{sendQuery:t.getQuery,startSearch:function(e){t.displayPage=!1},endSearch:function(e){t.displayPage=!0}}}),a("div",{staticClass:"container-fluid d-flex flex-column align-items-center",style:t.displaySwitch},[a("div",{staticClass:"col-sm-12 p-2 mt-4"},[a("h2",{staticClass:"text-white text-center"},[t._v(" 優惠券管理 ")]),a("h3",{staticClass:"text-white text-center"},[t._v(" 第"+t._s(t.pagination.current_page)+"頁")]),t.isSearching?a("div",{staticClass:"d-flex"},[a("h5",{staticClass:"text-white m-0"},[t._v(" 搜尋:"+t._s(t.query)+" ")]),a("button",{staticClass:"btn-border-info ml-2",on:{click:t.cancelSearching}},[t._v(" 取消搜尋 ")])]):t._e()]),a("div",{staticClass:"table-responsive-lg col-sm-12"},[a("table",{staticClass:"table list-table mb-4 mt-2"},[t._m(0),a("tbody",t._l(t.coupons,(function(e){return a("tr",{key:e.id,staticClass:"text-white"},[a("td",{staticClass:"text-center align-middle p-1"},[t._v(" "+t._s(e.title)+" ")]),a("td",{staticClass:"text-center align-middle p-1"},[t._v(" "+t._s(e.code)+" ")]),a("td",{staticClass:"text-center align-middle p-1"},[1===e.is_enabled?a("div",[a("p",{staticClass:"m-0"},[t._v(t._s(e.due_date))])]):t._e(),0===e.is_enabled?a("div",[a("p",{staticClass:"text-gray m-0"},[t._v("未啟用")])]):t._e()]),a("td",{staticClass:"text-center p-1 align-middle "},[1===e.is_enabled?a("span",{staticClass:"text-success border border-success p-2 rounded enable-status"},[t._v(" 啟用中 ")]):t._e(),0===e.is_enabled?a("span",{staticClass:"text-gray enable-status"},[t._v(" 未啟用 ")]):t._e()]),a("td",{staticClass:"text-center p-1 align-middle"},[t._v(" "+t._s(e.num)+" ")]),a("td",{staticClass:"text-center p-1 align-middle "},[t._v(" "+t._s(e.percent)+"% ")]),a("td",{staticClass:" text-center p-2 align-middle"},[a("div",{staticClass:"d-flex flex-column"},[a("button",{staticClass:"btn btn-border-primary d-block mb-1",on:{click:function(a){return t.openCouponModal(!1,e)}}},[t._v(" 編輯 ")]),a("button",{staticClass:"btn btn-border-danger d-block mt-1",on:{click:function(a){return a.preventDefault(),t.openDeleteModal(e)}}},[t._v(" 刪除 ")])])])])})),0)])]),a("div",{class:t.addBtnSwitch,on:{click:function(e){return t.openCouponModal(!0)}}}),t.isSearching?t._e():a("Pagination",{attrs:{pagination:t.pagination},on:{turnTo:t.changePage}}),a("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-hidden":"true","data-backdrop":"static","data-keyboard":"false"}},[a("div",{staticClass:"modal-dialog  modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateCoupons(e)}}},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("新增優惠券")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){t.isAdding=!1}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入名稱",required:""},domProps:{value:t.tempCoupon.title},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"title",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"num"}},[t._v("數量")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.num,expression:"tempCoupon.num"}],staticClass:"form-control",attrs:{type:"number",id:"num",required:""},domProps:{value:t.tempCoupon.num},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"num",e.target.value)}}})]),a("div",{staticClass:"col-sm-8 form-group"},[a("div",{staticClass:"form-check",staticStyle:{"padding-left":"0px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],attrs:{type:"radio",name:"enable_status",id:"is_enabled",required:""},domProps:{value:1,checked:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(e){return t.$set(t.tempCoupon,"is_enabled",1)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v(" 啟用 ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"ml-2",attrs:{type:"radio",name:"enable_status",id:"not_enabled"},domProps:{value:0,checked:t._q(t.tempCoupon.is_enabled,0)},on:{change:function(e){return t.$set(t.tempCoupon,"is_enabled",0)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"not_enabled"}},[t._v(" 不啟用 ")])])]),1===t.tempCoupon.is_enabled?a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"due_date"}},[t._v("到期日")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.due_date,expression:"tempCoupon.due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date",required:""},domProps:{value:t.tempCoupon.due_date},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"due_date",e.target.value)}}})]):t._e()]),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"code"}},[t._v("代碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"code",placeholder:"請輸入代碼",required:""},domProps:{value:t.tempCoupon.code},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"code",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"percent"}},[t._v("折扣百分比")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"percent",required:""},domProps:{value:t.tempCoupon.percent},on:{input:function(e){e.target.composing||t.$set(t.tempCoupon,"percent",e.target.value)}}})])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.isAdding=!1}}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v(" 確定 ")])])])])])]),a("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(" 刪除優惠券："+t._s(t.tempCoupon.title)+" ")]),t._m(1)]),a("div",{staticClass:"modal-body"},[t._v(" 確定要刪除優惠券："+t._s(t.tempCoupon.title)+"嗎？ ")]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.deleteCoupon}},[t._v(" 確定 ")])])])])])],1)],1)},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center align-middle p-2 text-white",attrs:{width:"120"}},[a("h5",[t._v("名稱")])]),a("th",{staticClass:"text-center align-middle p-2 text-white"},[a("h5",[t._v("代碼")])]),a("th",{staticClass:"text-center align-middle p-2 text-white",attrs:{width:"120"}},[a("h5",[t._v("過期日")])]),a("th",{staticClass:"text-center align-middle p-2 text-white",attrs:{width:"120"}},[a("h5",[t._v("啟用狀態")])]),a("th",{staticClass:"text-center align-middle p-2 text-white",attrs:{width:"80"}},[a("h5",[t._v("數量")])]),a("th",{staticClass:"text-center align-middle p-2 text-white",attrs:{width:"80"}},[a("h5",[t._v("百分比")])]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],Mt={name:"Coupon",components:{Pagination:yt,Searchbar:ft},data:function(){return{coupons:[],isNew:!0,tempCoupon:{},pagination:{},isAdding:!1,sortModes:[{value:"due_date",title:"到期日"},{value:"num",title:"數量"},{value:"percent",title:"百分比"}],genres:[{value:"未啟用",title:"未啟用"},{value:"已啟用",title:"已啟用"}],displayPage:!0,isSearching:!1,query:"",today:null}},methods:{getCoupons:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/coupons?page=").concat(t),a=this;a.$http.get(e).then((function(t){var e=Object.values(t.data.coupons);a.coupons=e,a.pagination=t.data.pagination,A()("html, body").animate({scrollTop:0},500)}))},openCouponModal:function(t,e){var a=this;a.isNew=t,a.isNew?(a.tempCoupon={},a.isAdding=!0):a.tempCoupon=Object(s["a"])({},e),A()("#couponModal").modal("show")},updateCoupons:function(){var t="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/coupon"),e=this;e.isAdding=!1;var a="post";e.isNew||(a="put",t="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/coupon/").concat(e.tempCoupon.id)),e.$http[a](t,{data:e.tempCoupon}).then((function(t){e.getCoupons(),e.$bus.$emit("message:push",t.data.message,"info"),A()("#couponModal").modal("hide")}))},openDeleteModal:function(t){var e=this;e.tempCoupon=Object(s["a"])({},t),A()("#deleteModal").modal("show")},deleteCoupon:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/coupon/").concat(t.tempCoupon.id);t.$http.delete(e).then((function(e){t.$bus.$emit("message:push",e.data.message,"info"),t.getCoupons(),A()("#deleteModal").modal("hide")}))},changePage:function(t){var e=this;e.pagination.current_page=t,e.getCoupons(t)},cancelSearching:function(){var t=this;t.isSearching=!1,t.getCoupons()},closePanel:function(){var t=this;t.$refs.child.closePanel()},sortBy:function(t,e,a){if("due_date"===e)switch(a){case"ascend":return t.sort((function(t,e){var a=new Date(t.due_date),s=new Date(e.due_date),n=a.getTime(),i=s.getTime();return n>i?1:-1}));case"descend":return t.sort((function(t,e){var a=new Date(t.due_date),s=new Date(e.due_date),n=a.getTime(),i=s.getTime();return n<i?1:-1}));default:return new Error("nothing found")}else switch(a){case"ascend":return t.sort((function(t,a){return t[e]>a[e]?1:-1}));case"descend":return t.sort((function(t,a){return t[e]<a[e]?1:-1}));default:return new Error("nothing found")}},filterBy:function(t,e){switch(e){case"已啟用":return t.filter((function(t){return 1===t.is_enabled}));case"未啟用":return t.filter((function(t){return 0===t.is_enabled}));default:return t.filter((function(t){var a=t.title.toUpperCase(),s=t.code.toUpperCase(),n=e.toUpperCase();return a.includes(n)||s.includes(n)?t:new Error("nothing found")}))}},getQuery:function(t){var e=this;e.isSearching=!0;var a="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/coupons?page=").concat(e.pagination.current_page);e.$http.get(a).then((function(a){var s,n,i=Object.values(a.data.coupons),o="",r="";switch(!0){case t.query.length>0:switch(s=e.filterBy(i,t.query),!0){case void 0!==t.sortMode&&void 0!==t.sortType:"ascend"===t.sortType?o="低至高":"descend"===t.sortType&&(o="高至低"),e.sortModes.forEach((function(a){a.value===t.sortMode&&(r=a.title,n=e.sortBy(s,a.value,t.sortType))})),e.coupons=n,e.query="".concat(t.query,"/").concat(r,"/").concat(o);break;case void 0===t.sortMode&&void 0===t.sortType:e.coupons=s,e.query="".concat(t.query);break;default:e.cancelSearching();break}break;case t.query.length<=0:"ascend"===t.sortType?o="低至高":"descend"===t.sortType&&(o="高至低"),e.sortModes.forEach((function(a){a.value===t.sortMode&&(r=a.title,n=e.sortBy(i,a.value,t.sortType))})),e.coupons=n,e.query="".concat(r,"/").concat(o);break;default:break}e.closePanel()}))}},computed:{addBtnSwitch:function(){var t=this;return t.isAdding?"add-btn active":"add-btn"},displaySwitch:function(){var t=this;return t.displayPage?"":"display:none !important"}},mounted:function(){var t=this;t.getCoupons();var e=new Date,a=e.getTime();t.today=a}},Tt=Mt,qt=(a("a072"),Object(w["a"])(Tt,$t,St,!1,null,"1bc30a44",null)),Ot=qt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Searchbar",{ref:"child",attrs:{genres:t.genres,sortModes:t.sortModes},on:{sendQuery:t.getQuery,startSearch:function(e){t.displayPage=!1},endSearch:function(e){t.displayPage=!0}}}),a("div",{staticClass:"container-fluid d-flex flex-column align-items-center",style:t.displaySwitch},[a("div",{staticClass:"col-sm-12 p-2 mt-4"},[a("h2",{staticClass:"text-white text-center"},[t._v("訂單管理")]),a("h3",{staticClass:"text-white text-center"},[t._v(" 第"+t._s(t.pagination.current_page)+"頁 ")]),t.isSearching?a("div",{staticClass:"d-flex"},[a("h5",{staticClass:"text-white m-0"},[t._v(" 搜尋:"+t._s(t.query)+" ")]),a("button",{staticClass:"btn-border-info ml-2",on:{click:t.cancelSearching}},[t._v(" 取消搜尋 ")])]):t._e()]),a("div",{staticClass:"table-responsive-lg col-sm-12"},[a("table",{staticClass:"table mb-4 mt-2 list-table"},[t._m(0),a("tbody",t._l(t.orders,(function(e){return a("tr",{key:e.id,staticClass:"text-white"},[a("td",{staticClass:"text-center align-middle p-1"},[t._v(" "+t._s(t._f("converseTime")(e.create_at))+" ")]),a("td",{staticClass:"text-center align-middle p-1"},[e.is_paid?a("div",[a("p",{staticClass:"text-success"},[a("span",[t._v("已付款")]),a("br"),a("span",[t._v(t._s(t._f("converseTime")(e.paid_date)))])])]):a("div",[a("p",{staticClass:"text-gray"},[t._v("尚未付款")])])]),a("td",{staticClass:"text-center align-middle p-1"},[t._v(" $ "+t._s(parseInt(e.total))+" ")]),a("td",{staticClass:"text-left p-1 align-middle"},[e.user?a("p",[t._v(" "+t._s(e.user.name)+" ")]):a("p",[t._v(" 無資料 ")]),e.user?a("p",[t._v(" "+t._s(e.user.tel)+" ")]):a("p",[t._v(" 無資料 ")]),e.user?a("p",[t._v(" "+t._s(e.user.email)+" ")]):a("p",[t._v("無資料")])]),a("td",{staticClass:"p-2 text-center"},[a("div",[a("button",{staticClass:"btn-border-white p-2 mr-sm-1",on:{click:function(a){return t.openDetailModal(e)}}},[t._v(" 詳細資訊 ")])])])])})),0)])]),t.isSearching?t._e():a("Pagination",{attrs:{pagination:t.pagination},on:{turnTo:t.changePage}}),a("div",{staticClass:"modal fade",attrs:{id:"detailModal",tabindex:"-1",role:"dialog","aria-labelledby":"detailModal","aria-hidden":"true","data-backdrop":"static"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("訂單資訊")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.closeDetailModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row d-flex flex-column"},[a("div",{staticClass:"d-flex align-items-baseline"},[a("p",[t._v(" 時間："+t._s(t._f("converseTime")(t.tempOrder.create_at))+" ")]),a("p",{staticClass:"ml-3"},[t._v("付款狀態： "),t.tempOrder.is_paid?a("span",[t._v(" 已付款"+t._s(t._f("converseTime")(t.tempOrder.paid_date))+" ")]):a("span",[t._v(" 未付款 ")])])]),a("div",[a("h5",{staticClass:"mb-1 font-weight-bold"},[t._v("購買列表")]),a("table",{staticClass:"table list-table"},[t._m(1),a("tbody",[t._l(t.tempOrder.products,(function(e){return a("tr",{key:e.id},[a("td",[a("p",[t._v(t._s(e.product.title))])]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.product.price)+" ")]),a("td",{staticClass:"text-center"},[a("p",[t._v(t._s(e.qty))])]),a("td",{staticClass:"text-center"},[e.coupon?a("div",[a("p",[t._v(t._s(e.coupon.title))]),a("p",[t._v(t._s(e.coupon.percent)+"%")])]):a("div",[t._v(" 無 ")])]),a("td",{staticClass:"text-center"},[a("p",[t._v(t._s(parseInt(e.final_total))+" 元")])])])})),a("tr",[a("td"),a("td"),a("td"),a("td",{staticClass:"text-center font-weight-bold border-bottom"},[t._v("總額 ")]),a("td",{staticClass:"text-center border-bottom"},[t.isEditing?a("p"):a("p",[t._v(t._s(t.tempOrder.total)+" 元")])])])],2)]),t.tempOrder.message?a("div",[a("h5",{staticClass:"font-weight-bold"},[t._v("留言")]),a("div",{staticClass:"bg-gray-300 p-2 rounded-sm"},[t._v(" "+t._s(t.tempOrder.message)+" ")])]):t._e(),t.tempOrder.user?a("div",{staticClass:"row mt-3"},[a("h5",{staticClass:"col-12 font-weight-bold"},[t._v("顧客資訊")]),a("div",{staticClass:"col-sm-6"},[a("div",[t._v(" 姓名 "),t.isEditing?a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.user.name,expression:"tempOrder.user.name"}],staticClass:"p-1 d-block mt-1 mb-1 form-control",attrs:{type:"text",required:""},domProps:{value:t.tempOrder.user.name},on:{input:function(e){e.target.composing||t.$set(t.tempOrder.user,"name",e.target.value)}}}):a("p",{staticClass:"bg-gray-300 p-1"},[t._v(" "+t._s(t.tempOrder.user.name)+" ")])]),a("div",[t._v(" 電話 "),t.isEditing?a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.user.tel,expression:"tempOrder.user.tel"}],staticClass:"p-1 d-block mt-1 mb-1 form-control",attrs:{type:"text",required:""},domProps:{value:t.tempOrder.user.tel},on:{input:function(e){e.target.composing||t.$set(t.tempOrder.user,"tel",e.target.value)}}}):a("p",{staticClass:"bg-gray-300 p-1"},[t._v(" "+t._s(t.tempOrder.user.tel)+" ")])])]),a("div",{staticClass:"col-sm-6"},[a("div",[t._v(" 信箱 "),t.isEditing?a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.user.email,expression:"tempOrder.user.email"}],staticClass:"p-1 d-block mt-1 mb-1 form-control",attrs:{type:"text",required:""},domProps:{value:t.tempOrder.user.email},on:{input:function(e){e.target.composing||t.$set(t.tempOrder.user,"email",e.target.value)}}}):a("p",{staticClass:"bg-gray-300 p-1"},[t._v(" "+t._s(t.tempOrder.user.email)+" ")])]),a("div",[t._v(" 地址 "),t.isEditing?a("input",{directives:[{name:"model",rawName:"v-model",value:t.tempOrder.user.address,expression:"tempOrder.user.address"}],staticClass:"p-1 d-block mt-1 mb-1 form-control",attrs:{type:"text",required:""},domProps:{value:t.tempOrder.user.address},on:{input:function(e){e.target.composing||t.$set(t.tempOrder.user,"address",e.target.value)}}}):a("p",{staticClass:"bg-gray-300 p-1"},[t._v(" "+t._s(t.tempOrder.user.address)+" ")])])])]):a("div",[a("p",[t._v("無資料")])])])])])]),a("div",{staticClass:"modal-footer"},[t.isEditing?t._e():a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 關閉 ")]),t.isEditing?t._e():a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.isEditing=!0}}},[t._v(" 修改 ")]),t.isEditing?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.editOrder}},[t._v(" 確認 ")]):t._e(),t.isEditing?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.closeDetailModal}},[t._v(" 取消 ")]):t._e()])])])])],1)],1)},jt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-center align-middle p-2 text-white",attrs:{width:"120"}},[a("h5",[t._v("日期")])]),a("th",{staticClass:"text-center align-middle p-2 text-white",attrs:{width:"120"}},[a("h5",[t._v("狀態")])]),a("th",{staticClass:"text-center align-middle p-2 text-white"},[a("h5",[t._v("金額")])]),a("th",{staticClass:"text-left align-middle p-2 text-white"},[a("h5",[t._v("顧客資訊")])]),a("th",{staticClass:"text-center align-middle p-2 text-white"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("商品名稱")]),a("th",{staticClass:"text-center",attrs:{width:"80"}},[t._v(" 售價 ")]),a("th",{staticClass:"text-center",attrs:{width:"80"}},[t._v(" 數量 ")]),a("th",{staticClass:"text-center",attrs:{width:"180"}},[t._v(" 優惠券 ")]),a("th",{staticClass:"text-center",attrs:{width:"80"}},[t._v(" 總價 ")])])])}],Nt=(a("b0c0"),{name:"Order",components:{Pagination:yt,Searchbar:ft},data:function(){return{orders:[],tempOrder:{},pagination:{},isEditing:!1,sortModes:[{value:"create_at",title:"下單日期"},{value:"total",title:"訂單金額"}],genres:[{value:"已付款",title:"已付款"},{value:"尚未付款",title:"尚未付款"}],displayPage:!0,isSearching:!1,query:"",today:null}},methods:{getOrders:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/orders?page=").concat(t),a=this;a.$http.get(e).then((function(t){a.orders=t.data.orders,a.pagination=t.data.pagination}))},editOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/order/").concat(t.tempOrder.id);t.$http.put(e,{data:t.tempOrder}).then((function(e){e.data.success&&(t.$bus.$emit("message:push",e.data.message,"info"),t.changePage(),t.closeDetailModal())}))},openDetailModal:function(t){var e=this;e.tempOrder=Object(s["a"])({},t),A()("#detailModal").modal("show")},closeDetailModal:function(){var t=this;t.isEditing=!1,A()("#detailModal").modal("hide")},updateCoupons:function(){var t="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/coupon"),e=this;e.isAdding=!1;var a="post";e.isNew||(a="put",t="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/coupon/").concat(e.tempOrder.id)),e.$http[a](t,{data:e.tempOrder}).then((function(t){e.getCoupons(),e.$bus.$emit("message:push",t.data.message,"info"),A()("#couponModal").modal("hide"),e.isEditing=!1,e.tempOrder={}}))},changePage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.pagination.current_page=t,e.getOrders(t)},cancelSearching:function(){var t=this;t.isSearching=!1,t.changePage()},closePanel:function(){var t=this;t.$refs.child.closePanel()},sortBy:function(t,e,a){switch(a){case"ascend":return t.sort((function(t,a){return t[e]>a[e]?1:-1}));case"descend":return t.sort((function(t,a){return t[e]<a[e]?1:-1}));default:return new Error("nothing found")}},filterBy:function(t,e){switch(e){case"已付款":return t.filter((function(t){return!0===t.is_paid}));case"尚未付款":return t.filter((function(t){return!1===t.is_paid}));default:return t.filter((function(t){var a=t.user.name.toUpperCase(),s=t.user.tel.toUpperCase(),n=e.toUpperCase();return a.includes(n||s.includes(n))?t:new Error("nothing found")}))}},getQuery:function(t){var e=this;e.isSearching=!0;var a="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/admin/orders?page=").concat(e.pagination.current_page);e.$http.get(a).then((function(a){var s,n,i=Object.values(a.data.orders),o="",r="";switch(!0){case t.query.length>0:switch(s=e.filterBy(i,t.query),!0){case void 0!==t.sortMode&&void 0!==t.sortType:"ascend"===t.sortType?o="低至高":"descend"===t.sortType&&(o="高至低"),e.sortModes.forEach((function(a){a.value===t.sortMode&&(r=a.title,n=e.sortBy(s,a.value,t.sortType))})),e.orders=n,e.query="".concat(t.query,"/").concat(r,"/").concat(o);break;case void 0===t.sortMode&&void 0===t.sortType:e.orders=s,e.query="".concat(t.query);break;default:e.cancelSearching();break}break;case t.query.length<=0:"ascend"===t.sortType?o="低至高":"descend"===t.sortType&&(o="高至低"),e.sortModes.forEach((function(a){a.value===t.sortMode&&(r=a.title,n=e.sortBy(i,a.value,t.sortType))})),e.orders=n,e.query="".concat(r,"/").concat(o);break;default:break}e.closePanel()}))}},computed:{displaySwitch:function(){var t=this;return t.displayPage?"":"display:none !important"}},mounted:function(){var t=this;t.getOrders()}}),At=Nt,Dt=Object(w["a"])(At,Et,jt,!1,null,null,null),It=Dt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("my-canvas"),a("navbar",{on:{navOpen:function(e){t.displayPage=!1},navClose:function(e){t.displayPage=!0}}}),t.displayPage?a("coupon"):t._e(),a("alert-msg"),a("router-view",{staticClass:"content-container",class:t.containerSwitch}),a("Footer",{staticClass:"mt-10 footer",class:t.footerSwitch})],1)},Ut=[],Lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Qt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"canvas-container"},[a("canvas",{attrs:{id:"mycanvas"}})])}],Ht={data:function(){return{ww:window.innerWidth,wh:700}},watch:{ww:function(t){var e=this;e.ww=t}},mounted:function(){var t=this,e=document.getElementById("mycanvas"),a=e.getContext("2d");e.width=t.ww,e.height=t.wh,a.beginPath();var s=0;function n(){s+=1,a.fillStyle="black",a.fillRect(0,0,t.ww,t.wh),a.lineWidth=3;var e=.4*t.wh,i=t.wh/10;a.strokeStyle="rgba(213, 55, 225, 0.6)",a.beginPath();for(var o=0;o<t.ww;o+=1){var r=.005*o+s/25,c=i*Math.cos(r);a.lineTo(o,c+e)}a.stroke(),a.strokeStyle="rgba(50, 193, 139, 0.3)",a.beginPath();for(var l=0;l<t.ww;l+=1){var d=.005*l+s/70,u=.8*i*Math.cos(d);a.lineTo(l,u+e)}a.stroke(),a.strokeStyle="rgba(58, 232, 166, 0.4)",a.beginPath();for(var p=0;p<t.ww;p+=1){var m=.005*p+s/45,v=.4*i*Math.cos(m);a.lineTo(p,v+e)}a.stroke(),requestAnimationFrame(n)}requestAnimationFrame(n)}},Rt=Ht,Wt=(a("bbe6"),Object(w["a"])(Rt,Lt,Qt,!1,null,"434a0f5f",null)),Ft=Wt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"coupon-content d-flex flex-column justify-content-center align-items-center",class:{fadeIn:t.fadeIn}},[a("h2",{staticClass:"title-primary font-l mb-3"},[t._v("慶祝開幕！")]),t._m(0),a("button",{staticClass:"btn btn-neon-success mt-10 font-m pl-3 pr-3",on:{click:function(e){t.fadeIn=!1}}},[t._v(" 我知道了！ ")]),a("button",{staticClass:"notice-btn border-0 position-absolute",on:{click:function(e){t.fadeIn=!0}}},[a("font-awesome-icon",{staticClass:"icon-l",attrs:{icon:"bell"}}),a("div",{staticClass:"notice-badge"},[t._v(" ！ ")])],1)])},Yt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"text-white font-m p-3"},[t._v(" 結帳時輸入"),a("span",{staticClass:"title-primary"},[t._v("WAVEBIRTHDAY")]),t._v("，可享九折優惠！ ")])}],Jt={name:"Coupon",data:function(){return{fadeIn:!1}}},zt=Jt,Gt=(a("713f"),Object(w["a"])(zt,Vt,Yt,!1,null,null,null)),Kt=Gt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-container",class:t.panelSwitch},[a("div",{staticClass:"nav-panel",class:t.togglerSwitch},[a("router-link",{staticClass:"nav-logo",attrs:{to:{name:"Homepage"}}},[a("div",{staticClass:"glitch",attrs:{"data-text":"WAVE"}},[t._v(" WAVE ")])]),a("div",{staticClass:"nav-toggler",on:{click:t.openPanel}},[a("div")])],1),a("button",{staticClass:"close-btn",attrs:{type:"button"},on:{click:t.closePanel}},[t._v(" × ")]),a("div",{staticClass:"nav-wrapper"},[a("router-link",{staticClass:"nav_link",attrs:{to:{name:"Homepage"}},on:{click:t.closePanel}},[t._v(" 首頁 ")]),a("router-link",{staticClass:"nav_link",attrs:{to:{name:"Custom_products"}},on:{click:t.closePanel}},[t._v(" 商品 ")]),a("router-link",{staticClass:"nav_link",attrs:{to:{name:"Customer_QA"}},on:{click:t.closePanel}},[t._v(" 問答 ")]),a("router-link",{staticClass:"nav_link",attrs:{to:"/login"},on:{click:t.closePanel}},[t._v(" 管理員 ")])],1)])},Zt=[],te={name:"Navbar",data:function(){return{showPanel:!1}},methods:{openPanel:function(){var t=this;t.showPanel=!0,t.$emit("navOpen")},closePanel:function(){var t=this;t.showPanel=!1,t.$emit("navClose")}},computed:{panelSwitch:function(){var t=this;return t.showPanel?"show":""},togglerSwitch:function(){var t=this;return t.showPanel?"fade":""},logoSwitch:function(){var t=this;return t.showLogo?"":"fade"}},created:function(){var t=this;t.$bus.$on("home-navbarClose",(function(){t.closePanel()}))}},ee=te,ae=(a("adbc"),Object(w["a"])(ee,Xt,Zt,!1,null,"09507d23",null)),se=ae.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"footer-section d-flex align-items-center"},[a("ul",{staticClass:"d-flex justify-content-around align-items-center w-100"},[a("li",[a("a",{staticClass:"font-l footer-link",attrs:{href:"#"}},[a("font-awesome-icon",{attrs:{icon:["fab","instagram"]}})],1)]),a("li",[a("a",{staticClass:"font-l footer-link",attrs:{href:"#"}},[a("font-awesome-icon",{attrs:{icon:["fab","facebook-square"]}})],1)]),a("li",[a("a",{staticClass:"font-l footer-link",attrs:{href:"#"}},[a("font-awesome-icon",{attrs:{icon:["fab","twitter"]}})],1)]),a("li",[a("a",{staticClass:"font-l footer-link",attrs:{href:"#"}},[a("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)])])]),t._m(1)])},ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer-section p-4 d-flex flex-column align-items-start justify-content-start"},[a("div",{staticClass:"glitch font-l",attrs:{"data-text":"聲波"}},[t._v(" 聲波 ")]),a("p",{staticClass:"text-white text-left font-m"},[t._v(" 成立於2020年4月，聲波再遠都能傳到你耳邊。 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer-section p-4"},[a("ul",{staticClass:"text-white font-m"},[a("li",[a("a",{staticClass:"footer-link",attrs:{href:"#"}},[t._v(" 聯絡我們 ")])]),a("li",[a("a",{staticClass:"footer-link",attrs:{href:"#"}},[t._v(" 門市位置 ")])]),a("li",[a("a",{staticClass:"footer-link",attrs:{href:"#"}},[t._v(" 招募訊息 ")])])])])}],oe={name:"Footer",data:function(){return{}}},re=oe,ce=(a("73e5"),Object(w["a"])(re,ne,ie,!1,null,"6036e8ce",null)),le=ce.exports,de={name:"Home",components:{AlertMsg:F,Coupon:Kt,MyCanvas:Ft,Navbar:se,Footer:le},data:function(){return{displayPage:!0}},computed:{containerSwitch:function(){var t=this;return!0===t.displayPage?"":"_stop-scrolling"},footerSwitch:function(){var t=this;return!0===t.displayPage?"":"fade"}}},ue=de,pe=(a("641e"),Object(w["a"])(ue,Bt,Ut,!1,null,"2e40911b",null)),me=pe.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid pt-2"},[a("banner"),a("cart",{ref:"cart",on:{cartOpen:function(e){t.displayPage=!1},cartClose:function(e){t.displayPage=!0}}}),a("div",{staticClass:"inner-container d-flex flex-column",class:{fade:!1===t.displayPage}},[t.newest?a("newest",{staticClass:"align-self-center col-sm-12",attrs:{newest:t.newest},on:{buyItem:t.addToCart}}):t._e(),t.randomPick?a("random-pick",{staticClass:"mt-5",attrs:{randomPick:t.randomPick},on:{buyItem:t.addToCart}}):t._e(),t.allProducts?a("new-item",{staticClass:"mt-10",attrs:{allProducts:t.allProducts}}):t._e()],1)],1)},fe=[],he=(a("7db0"),a("fb6a"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),ge=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner_container"},[a("div",{staticClass:"banner-content"},[a("div",{staticClass:"glitch",attrs:{"data-text":"WAVE"}},[t._v(" WAVE ")]),a("h1",{staticClass:"text-white"},[t._v("聲波唱片行")])])])}],_e={name:"Banner",data:function(){return{}}},be=_e,Ce=(a("3ae5"),Object(w["a"])(be,he,ge,!1,null,"6782df00",null)),ye=Ce.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content bg-black cart",class:t.cartSwitch},[a("div",{staticClass:"cart-btn notice-btn d-flex justify-content-center btn-fixed-position-responsive"},[a("div",{staticClass:"notice-badge"},[t._v(" "+t._s(t.cart.length)+" ")]),a("span",{staticClass:"d-flex align-items-center",on:{click:t.cartOpen}},[a("font-awesome-icon",{staticClass:"icon-l",attrs:{icon:"shopping-cart"}})],1)]),a("div",{staticClass:"container-fluid text-white d-flex flex-column"},[a("button",{staticClass:"btn icon-l text-white align-self-end",on:{click:t.cartClose}},[t._v(" × ")]),0===t.cart.length?a("div",[a("p",{staticClass:"text-gray font-m text-center"},[t._v(" 沒有商品 ")])]):a("div",{staticClass:"mt-5 align-self-center col-sm-10 table-responsive"},[a("h3",{staticClass:"title-primary mt-2"},[t._v("購物車")]),a("table",{staticClass:"table table-borderless text-white mt-3"},[a("tbody",[t._l(t.cart,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"border-bottom"},[a("img",{attrs:{src:e.product.imageUrl}})]),a("td",{staticClass:"align-middle border-bottom"},[a("p",[t._v(t._s(e.product.title))]),a("p",[t._v("$ "+t._s(e.product.price))]),a("p",[t._v("共 "+t._s(e.qty)+" 個")]),a("p",[t._v("總價: $ "+t._s(e.total))])]),a("td",{staticClass:"border-bottom align-middle text-center"},[a("button",{staticClass:"btn btn-border-success",on:{click:function(a){return t.deleteItem(e)}}},[t._v(" 刪除 ")])])])})),a("tr",[a("td",{staticClass:"align-middle text-center"},[t._v("總價")]),a("td",{staticClass:"align-middle"},[t._v(" $ "+t._s(t.total)+" ")]),a("td",{staticClass:"align-middle text-center"},[a("router-link",{attrs:{to:{name:"Custom_bill"}}},[a("button",{staticClass:"btn-lg btn-border-warning"},[t._v(" 結帳 ")])])],1)])],2)])])])])},we=[],Pe={name:"Cart",data:function(){return{showCart:!1,cart:[],final_total:0,total:0}},methods:{deleteItem:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/cart/").concat(t.id);e.$http.delete(a).then((function(t){e.$bus.$emit("message:push",t.data.message,"info"),e.getCart()}))},cartOpen:function(){var t=this;t.showCart=!0,t.$emit("cartOpen"),t.getCart()},cartClose:function(){var t=this;t.showCart=!1,t.$emit("cartClose")},getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/cart");t.$http.get(e).then((function(e){t.final_total=e.data.data.final_total,t.total=e.data.data.total,t.cart=e.data.data.carts}))}},computed:{cartSwitch:function(){var t=this;return t.showCart?"show":""}},mounted:function(){var t=this;t.getCart()}},ke=Pe,$e=(a("9d0f"),Object(w["a"])(ke,xe,we,!1,null,"51cf19cc",null)),Se=$e.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",{staticClass:"title-primary text-center mb-5"},[t._v("推薦給你")]),a("carousel",{attrs:{perPage:1,autoplay:!0,autoplayTimeout:2e3,paginationActiveColor:"#D537E1",paginationColor:"#6c757d"}},t._l(t.randomPick,(function(e){return a("slide",{key:e.title},[a("div",{staticClass:"slide-container"},[a("img",{attrs:{src:e.imageUrl}}),a("div",{staticClass:"slide-text"},[e.title.length<=25?a("h3",{staticClass:"slide-title"},[t._v(" "+t._s(e.title)+" ")]):a("h5",{staticClass:"slide-title"},[t._v(" "+t._s(e.title)+" ")]),a("p",{staticClass:"mt-1"},[t._v(" "+t._s(e.unit)+" ")]),a("p",{staticClass:"mt-1"},[t._v(" $ "+t._s(e.price)+" ")]),a("div",{staticClass:"d-flex mt-2"},[a("router-link",{staticClass:"mr-2",attrs:{to:{name:"Product_detail",params:{id:e.id}}}},[a("button",{staticClass:"btn-border-primary btn d-flex pt-1 pb-1 pl-2 pr-2 align-items-center"},[t._v(" 查看 "),a("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"arrow-right"}})],1)]),a("button",{staticClass:"btn-border-success btn ml-2 d-flex pt-1 pb-1 pl-2 pr-2 align-items-center",on:{click:function(a){return a.preventDefault(),t.buyItem(e)}}},[t._v(" 購買 "),a("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"plus"}})],1)],1)])])])})),1)],1)},Te=[],qe=a("0a63"),Oe={name:"RandomPick",props:["randomPick"],components:{Carousel:qe["Carousel"],Slide:qe["Slide"]},methods:{buyItem:function(t){var e=this;e.$emit("buyItem",t)}}},Ee=Oe,je=(a("dd06"),Object(w["a"])(Ee,Me,Te,!1,null,null,null)),Ne=je.exports,Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row d-flex flex-md-row flex-sm-column",staticStyle:{"margin-top":"200px"}},[a("div",{staticClass:"col-sm-4 d-md-flex flex-column"},[a("h3",{staticClass:"title-primary text-right"},[t._v("最新發行")]),t._l(t.newest.slice(0,1),(function(e){return a("router-link",{key:e.id,staticClass:"product-card main h-75 mt-4 position-relative d-flex flex-column align-items-center",attrs:{to:{name:"Product_detail",params:{id:e.id}}}},[a("h5",{staticClass:"text-white mb-4 font-weight-bold border-bottom pb-1"},[t._v(" 本月主打 ")]),a("img",{staticClass:"img-shadow",attrs:{src:e.imageUrl}}),a("h4",{staticClass:"text-white text-center mt-4 mb-2"},[t._v(" "+t._s(e.title)+" ")]),a("p",{staticClass:"text-white text-center mb-2"},[t._v(" "+t._s(e.unit)+" ")]),a("p",{staticClass:"text-white text-center mb-4"},[t._v(" "+t._s(e.content)+" ")]),a("p",{staticClass:"text-white text-center font-m mb-4"},[t._v(" $ "+t._s(e.price)+" ")]),a("div",{staticClass:"d-flex"},[a("router-link",{staticClass:"mr-2",attrs:{to:{name:"Product_detail",params:{id:e.id}}}},[a("button",{staticClass:"btn-border-primary btn d-flex pt-1 pb-1 pl-2 pr-2 align-items-center"},[t._v(" 查看 "),a("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"arrow-right"}})],1)]),a("button",{staticClass:"btn-border-success btn ml-2 d-flex pt-1 pb-1 pl-2 pr-2 align-items-center",on:{click:function(a){return a.preventDefault(),t.buyItem(e)}}},[t._v(" 購買 "),a("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"plus"}})],1)],1)])}))],2),a("h4",{staticClass:"title-primary font-m d-sm-none mr-5 mb-4 font-italic"},[t._v("右滑看更多")]),a("div",{staticClass:"col-sm-8 d-flex flex-column outer-scroll"},[a("div",{staticClass:"inner-scroll"},[a("div",{staticClass:"row d-flex inner-item"},t._l(t.newest.slice(0,3),(function(e){return a("router-link",{key:e.title,staticClass:"mb-4 col-4 col-sm-4 position-relative",attrs:{to:{name:"Product_detail",params:{id:e.id}}}},[a("card",{attrs:{product:e},on:{buyProduct:t.buyItem}})],1)})),1),a("div",{staticClass:"row d-flex inner-item"},t._l(t.newest.slice(3,6),(function(e){return a("router-link",{key:e.title,staticClass:"mb-4 col-4 col-sm-4 position-relative",attrs:{to:{name:"Product_detail",params:{id:e.id}}}},[a("card",{attrs:{product:e},on:{buyProduct:t.buyItem}})],1)})),1)])])])},De=[],Ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column align-items-center product-card"},[a("h5",{staticClass:"text-white mb-4 font-weight-bold font-r border-bottom pb-1"},[t._v(" "+t._s(t.product.category)+" ")]),a("img",{staticClass:"img-shadow",attrs:{src:t.product.imageUrl}}),a("h5",{staticClass:"text-white text-center mt-4 mb-1"},[t._v(" "+t._s(t.product.title)+" ")]),a("p",{staticClass:"text-white text-center mb-1"},[t._v(" "+t._s(t.product.unit)+" ")]),a("p",{staticClass:"text-white text-center mb-2"},[t._v(" "+t._s(t.product.content)+" ")]),a("p",{staticClass:"text-white text-center font-m mb-2"},[t._v(" $ "+t._s(t.product.price)+" ")]),a("div",{staticClass:"product__linkgroup"},[a("router-link",{attrs:{to:{name:"Product_detail",params:{id:t.product.id}}}},[a("button",{staticClass:"product__linkgroup__link btn btn-border-primary"},[t._v(" 查看 "),a("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"arrow-right"}})],1)]),a("button",{staticClass:"product__linkgroup__link btn btn-border-success",on:{click:function(e){return e.preventDefault(),t.buyProduct(t.product)}}},[t._v(" 購買 "),a("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"plus"}})],1)],1)])},Be=[],Ue={name:"Product-card",props:["product"],methods:{buyProduct:function(t){var e=this;e.$emit("buyProduct",t)}}},Le=Ue,Qe=Object(w["a"])(Le,Ie,Be,!1,null,null,null),He=Qe.exports,Re={name:"Home-Newest",components:{Card:He},props:["newest"],data:function(){return{}},methods:{buyItem:function(t){var e=this;e.$emit("buyItem",t)}}},We=Re,Fe=(a("6ddc"),Object(w["a"])(We,Ae,De,!1,null,null,null)),Ve=Fe.exports,Ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column"},[a("h4",{staticClass:"text-center align-self-center title-primary mb-3"},[t._v("其他商品")]),a("div",{staticClass:"d-flex flex-wrap p-2 justify-content-around"},t._l(t.allProducts.slice(10,20),(function(e){return a("router-link",{key:e.title,staticClass:"col-sm-2 col-5 d-flex flex-column align-items-center pt-3 mb-4 ml-1 mr-1 product-card",staticStyle:{height:"300px"},attrs:{to:{name:"Product_detail",params:{id:e.id}}}},[a("img",{staticClass:"w-75",attrs:{src:e.imageUrl}}),a("div",{staticClass:"text-white d-flex flex-column align-items-center mt-2"},[a("p",{staticClass:"font-weight-bold text-center"},[t._v(t._s(e.title))]),a("p",{staticClass:"text-center"},[t._v(t._s(e.unit))])])])})),1),a("router-link",{staticClass:"title-primary font-m align-self-end m-3",attrs:{to:{name:"Custom_products"}}},[t._v(" ...查看更多 ")])],1)},Je=[],ze={name:"Home-NewItem",props:["allProducts"],data:function(){return{}}},Ge=ze,Ke=Object(w["a"])(Ge,Ye,Je,!1,null,null,null),Xe=Ke.exports,Ze={name:"Home",components:{Banner:ye,Cart:Se,RandomPick:Ne,Newest:Ve,NewItem:Xe},data:function(){return{randomPick:null,genres:[{value:"Rock/搖滾",title:"Rock/搖滾"},{value:"Pop/流行",title:"Pop/流行"},{value:"Dance/舞曲",title:"Dance/舞曲"},{value:"Country/鄉村",title:"Country/鄉村"},{value:"Hip-Hop/嘻哈",title:"Hip-Hop/嘻哈"},{value:"R&B/節奏藍調",title:"R&B/節奏藍調"}],newest:null,allProducts:null,displayPage:!0}},methods:{stopScrolling:function(t){!0===t?A()(".content-container").addClass("_stop-scrolling"):A()(".content-container").removeClass("_stop-scrolling")},addToCart:function(t){var e=this,a=e.$refs.cart,s=a.cart.filter((function(e){return e.product_id===t.id}));if(s.length>0)e.$bus.$emit("message:push","購物車已經有這項物品","info");else{var n="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/cart");e.$http.post(n,{data:{product_id:t.id,qty:1}}).then((function(t){e.$bus.$emit("message:push",t.data.message,"info"),a.getCart()}))}},getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/products/all");t.$http.get(e).then((function(e){t.allProducts=e.data.products;var a=7,s=parseInt(Math.random()*e.data.products.length-a,10),n=s>=0?s:0;t.randomPick=e.data.products.slice(n,n+a);var i=e.data.products.sort((function(t,e){var a=new Date(t.content),s=new Date(e.content),n=a.getTime(),i=s.getTime();return n<i?1:-1})),o=[];t.genres.forEach((function(t){o.push(i.find((function(e){return e.category===t.title})))})),t.newest=o.sort((function(t,e){var a=new Date(t.content),s=new Date(e.content),n=a.getTime(),i=s.getTime();return n<i?1:-1}))}))}},mounted:function(){var t=this;t.getProducts()},beforeRouteLeave:function(t,e,a){var s=this;s.$bus.$emit("home-navbarClose"),a()}},ta=Ze,ea=(a("7e83"),Object(w["a"])(ta,ve,fe,!1,null,null,null)),aa=ea.exports,sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid position-relative"},[a("Searchbar",{ref:"child",attrs:{genres:t.genres,sortModes:t.sortModes},on:{sendQuery:t.getQuery,startSearch:function(e){t.displayPage=!1},endSearch:function(e){t.displayPage=!0},click:function(e){t.query=""}}}),a("cart",{ref:"cart",on:{cartOpen:function(e){t.displayPage=!1},cartClose:function(e){t.displayPage=!0}}}),a("div",{staticClass:"inner-container",class:t.scrollingSwitch},[a("div",{staticClass:"flex-column text-center"},[a("h3",{staticClass:"title-primary text-center"},[t._v("全部商品")]),t.isSearching?a("div",{staticClass:"text-white mt-3 d-flex justify-content-center"},[a("p",{staticClass:"ml-2"},[t._v(t._s(t.query))]),a("button",{staticClass:"btn-border-info ml-2",on:{click:t.cancelSearching}},[t._v(" 取消 ")])]):t._e()]),a("div",{staticClass:"mt-3 d-flex flex-column"},[a("div",{staticClass:"mb-3 col-12 category-box-group"},[a("div",{staticClass:"btn-neon-primary box",class:{active:""===t.query},on:{click:t.cancelSearching}},[a("p",[t._v("全部商品")])]),t._l(t.genres,(function(e){return a("div",{key:e.value,staticClass:"btn-neon-primary box",class:{active:t.query===e.value},on:{click:function(a){return t.getQuery({query:e.value})}}},[a("p",[t._v(t._s(e.title))])])}))],2),a("div",{staticClass:"row col-sm-12 align-self-center d-flex flex-wrap justify-content-center p-0"},t._l(t.products,(function(e){return a("router-link",{key:e.title,staticClass:"text-white col-sm-2 m-sm-3 mb-2 col-6 position-relative",attrs:{to:{name:"Product_detail",params:{id:e.id}}}},[a("card",{attrs:{product:e},on:{buyProduct:t.addToCart}})],1)})),1)]),t.isSearching?t._e():a("Pagination",{staticClass:"align-self-center mt-5",attrs:{pagination:t.pagination},on:{turnTo:t.changePage}})],1)],1)},na=[],ia={name:"Custom-product",components:{Cart:Se,Card:He,Searchbar:ft,Pagination:yt},data:function(){return{randomPick:[],products:[],allProducts:[],isAdding:!1,genres:[{value:"Rock/搖滾",title:"Rock / 搖滾"},{value:"Pop/流行",title:"Pop / 流行"},{value:"Dance/舞曲",title:"Dance / 舞曲"},{value:"Country/鄉村",title:"Country / 鄉村"},{value:"Hip-Hop/嘻哈",title:"Hip-Hop / 嘻哈"},{value:"R&B/節奏藍調",title:"R&B / 節奏藍調"}],sortModes:[{value:"content",title:"發行日期"},{value:"origin_price",title:"原價"},{value:"price",title:"售價"}],query:"",isSearching:!1,displayPage:!0,pagination:{},cartConfirming:!1}},beforeRouteLeave:function(t,e,a){var s=this;s.$bus.$emit("home-navbarClose"),a()},methods:{addToCart:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/cart");e.$http.post(a,{data:{product_id:t.id,qty:1}}).then((function(t){e.$bus.$emit("message:push",t.data.message,"info"),e.$refs.cart.getCart()}))},startSearch:function(){var t=this;t.displayPage=!1},endSearch:function(){var t=this;t.displayPage=!0},getProductsAll:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/products/all");t.$http.get(e).then((function(e){t.allProducts=e.data.products;var a=7,s=parseInt(Math.random()*e.data.products.length-a,10),n=s>=0?s:0;t.randomPick=e.data.products.slice(n,n+a)}))},getProductsWithPage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/products?page=").concat(t);e.$http.get(a).then((function(t){e.products=t.data.products,e.pagination=t.data.pagination}))},changePage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this;e.pagination.current_page=t,e.getProductsWithPage(t)},sortBy:function(t,e,a){if("content"===e)switch(a){case"ascend":return t.sort((function(t,e){var a=new Date(t.content),s=new Date(e.content),n=a.getTime(),i=s.getTime();return n>i?1:-1}));case"descend":return t.sort((function(t,e){var a=new Date(t.content),s=new Date(e.content),n=a.getTime(),i=s.getTime();return n<i?1:-1}));default:return new Error("nothing found")}else switch(a){case"ascend":return t.sort((function(t,a){return t[e]>a[e]?1:-1}));case"descend":return t.sort((function(t,a){return t[e]<a[e]?1:-1}));default:return new Error("nothing found")}},filterBy:function(t,e){return t.filter((function(t){return t.title.toUpperCase().includes(e.toUpperCase())||t.unit.toUpperCase().includes(e.toUpperCase())||t.category.toUpperCase()===e.toUpperCase()}))},getQuery:function(t){var e=this,a="",s="",n="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/products/all");this.$http.get(n).then((function(n){var i,o,r=Object.values(n.data.products);switch(!0){case t.query.length>0:switch(i=e.filterBy(r,t.query),!0){case void 0!==t.sortMode&&void 0!==t.sortType:"ascend"===t.sortType?a="低至高":"descend"===t.sortType&&(a="高至低"),e.sortModes.forEach((function(a){a.value===t.sortMode&&(s=a.title,o=e.sortBy(i,a.value,t.sortType))})),e.products=o,e.query="".concat(t.query,"/").concat(s,"/").concat(a),e.isSearching=!0;break;case void 0===t.sortMode&&void 0===t.sortType:e.products=i,e.isSearching=!0,e.query=t.query;break;default:e.$bus.$emit("message:push","發生錯誤","warning"),e.cancelSearching();break}break;case 0===t.query.length:"ascend"===t.sortType?a="低至高":"descend"===t.sortType&&(a="高至低"),e.sortModes.forEach((function(a){a.value===t.sortMode&&(s=a.title,o=e.sortBy(r,a.value,t.sortType))})),e.products=o,e.query="".concat(s,"/").concat(a),e.isSearching=!0;break;default:break}e.closePanel()}))},cancelSearching:function(){var t=this;t.isSearching=!1,t.query="",t.changePage()},closePanel:function(){var t=this;t.$refs.child.closePanel()}},computed:{scrollingSwitch:function(){var t=this;return t.displayPage?"":"_stop-scrolling"}},mounted:function(){var t=this;t.getProductsAll(),t.getProductsWithPage()}},oa=ia,ra=(a("671b"),Object(w["a"])(oa,sa,na,!1,null,"3c5eef70",null)),ca=ra.exports,la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid d-flex flex-column align-items-center"},[a("div",{staticClass:"col-sm-8 cart"},[a("h3",{staticClass:"title-primary align-self-start ml-3 m-top"},[t._v(" 購物列表 ")]),a("table",{staticClass:"table table-borderless text-white mt-1"},[a("tbody",[t._l(t.cart,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"border-bottom"},[a("img",{staticClass:"img-responsive",attrs:{src:e.product.imageUrl}})]),a("td",{staticClass:"align-middle border-bottom"},[a("p",[t._v(t._s(e.product.title))]),a("p",[t._v("$ "+t._s(e.product.price))]),a("p",[t._v("數量: "+t._s(e.qty)+" 個")]),a("p",[t._v("總價: $ "+t._s(e.total))])])])})),a("tr",[a("td"),a("td",{staticClass:"align-middle font-m text-right"},[t.total!==t.final_total?a("p",{staticClass:"text-line-through text-gray"},[t._v(" $"+t._s(t.total)+" ")]):t._e(),a("p",[t._v("$ "+t._s(parseInt(t.final_total)))])])])],2)]),a("h5",{staticClass:"text-white text-center"},[t._v("有優惠碼？")]),t.total===t.final_total?a("div",{staticClass:"form-group row d-flex justify-content-center mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"bg-transparent form-control col-8 mr-3 caret-white text-white",attrs:{placeholder:"輸入您的優惠碼"},domProps:{value:t.couponCode},on:{input:function(e){e.target.composing||(t.couponCode=e.target.value)}}}),a("button",{staticClass:"btn btn-border-primary",on:{click:t.sendCoupon}},[t._v(" 使用 ")])]):a("p",{staticClass:"text-info font-m text-center"},[t._v(" 已套用過優惠 ")]),a("validation-observer",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{staticClass:"text-white d-flex flex-column mt-4",on:{submit:t.sendBill}},[a("div",{staticClass:"row"},[a("div",{staticClass:"form-group col-sm-6"},[a("label",{attrs:{for:"name"}},[t._v("姓名 "),a("span",{staticClass:"font-s"},[t._v("必填")])]),a("validation-provider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control caret-white text-white border-white",attrs:{type:"text",id:"name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),s?a("span",{staticClass:"text-danger"},[t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"form-group col-sm-6"},[a("label",{attrs:{for:"tel"}},[t._v("手機 "),a("span",{staticClass:"font-s"},[t._v("必填")])]),a("validation-provider",{attrs:{rules:"numeric|required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.tel,expression:"user.tel"}],staticClass:"form-control caret-white text-white border-white",attrs:{type:"tel",id:"tel"},domProps:{value:t.user.tel},on:{input:function(e){e.target.composing||t.$set(t.user,"tel",e.target.value)}}}),s?a("span",{staticClass:"text-danger"},[t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)})],1)]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"address"}},[t._v("地址 "),a("span",{staticClass:"font-s"},[t._v("必填")])]),a("validation-provider",{staticClass:"col-sm-12 pl-0 pr-0",attrs:{rules:"required"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.city,expression:"addressInput.city"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.addressInput,"city",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",selected:""}},[t._v(" 請選擇縣市 ")]),t._l(t.allCity,(function(e){return a("option",{key:e.CityName,domProps:{value:e.CityName}},[t._v(" "+t._s(e.CityName)+" ")])}))],2)]),a("div",{staticClass:"form-group"},[a("validation-provider",{staticClass:"col-sm-12 pr-0",attrs:{rules:"required"}},[t.addressInput.city?a("select",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.area,expression:"addressInput.area"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.addressInput,"area",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",selected:""}},[t._v(" 請選擇行政區 ")]),t._l(t.allCity.find((function(e){return e.CityName===t.addressInput.city})).AreaList,(function(e){return a("option",{key:e.AreaName,domProps:{value:e.AreaName}},[t._v(" "+t._s(e.AreaName)+" ")])}))],2):a("select",{staticClass:"form-control"},[a("option",{attrs:{value:"",selected:""}},[t._v(" 請選擇行政區 ")])])])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addressInput.place,expression:"addressInput.place"}],staticClass:"form-control caret-white text-white mt-2",attrs:{type:"text",required:"",placeholder:"請輸入地址"},domProps:{value:t.addressInput.place},on:{input:function(e){e.target.composing||t.$set(t.addressInput,"place",e.target.value)}}})],1),a("div",{staticClass:"form-group"},[a("validation-provider",{attrs:{rules:"email|required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("label",{attrs:{for:"email"}},[t._v(" 電子信箱 "),a("span",{staticClass:"font-s"},[t._v("必填")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control caret-white text-white",attrs:{type:"text",id:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),a("span",{staticClass:"text-danger"},[t._v(" "+t._s(s[0])+" ")])]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"msg"}},[t._v("留言")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"text-white bg-transparent border border-white rounded w-100",staticStyle:{height:"100px"},attrs:{id:"msg"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})]),a("button",{staticClass:"btn btn-lg btn-primary align-self-end",staticStyle:{cursor:"not-allowed"},attrs:{type:"submit",disabled:s}},[t._v(" 確認送出 ")])])]}}])})],1)])},da=[],ua={name:"Custom_bill",data:function(){return{cart:{},total:0,final_total:0,couponCode:"",couponUsed:!1,user:{name:"",email:"",tel:"",address:""},addressInput:{city:"",area:"",place:""},message:"",allCity:[]}},methods:{sendBill:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/order"),a={name:t.user.name,email:t.user.email,tel:t.user.tel,address:t.addressInput.city+t.addressInput.area+t.addressInput.place};t.$http.post(e,{data:{user:a,message:t.message}}).then((function(e){e.data.success&&t.$router.push({name:"Customer_billConfirm",params:{id:e.data.orderId}})}))},getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/cart");t.$http.get(e).then((function(e){t.final_total=e.data.data.final_total,t.total=e.data.data.total,t.cart=e.data.data.carts}))},sendCoupon:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/coupon"),a={code:t.couponCode};t.$http.post(e,{data:a}).then((function(e){e.data.success?(t.$bus.$emit("message:push",e.data.message,"info"),t.couponCode="",t.getCart()):t.$bus.$emit("message:push",e.data.message,"danger")}))},getArea:function(){var t=this;t.$http.get("cityName.json").then((function(e){t.allCity=e.data}))}},beforeRouteLeave:function(t,e,a){var s=this;s.$bus.$emit("home-navbarClose"),a()},mounted:function(){var t=this;t.getCart(),t.getArea()}},pa=ua,ma=Object(w["a"])(pa,la,da,!1,null,null,null),va=ma.exports,fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.order?a("div",{staticClass:"container-fluid d-flex flex-column align-items-center mt-4 p-3"},[a("h3",{staticClass:"title-primary mb-2"},[t._v("訂單資訊")]),a("table",{staticClass:"col-sm-8 text-white table mb-4"},[a("tbody",[t._l(t.order.products,(function(e){return a("tr",{key:e.id},[a("td",[a("img",{staticClass:"img-responsive",attrs:{src:e.product.imageUrl}})]),a("td",{staticClass:"align-middle"},[a("p",[t._v(" "+t._s(e.product.title)+" ")]),a("p",[t._v(" 單價: "+t._s(e.product.price)+" ")]),a("p",[t._v(" "+t._s(e.qty)+" 個 ")]),a("p",[t._v(" 總價: "+t._s(parseInt(e.final_total))+" 元 ")]),e.coupon?a("p",{staticClass:"text-info font-s"},[t._v(" > 已套用優惠: "+t._s(e.coupon.code)+" ")]):t._e()])])})),a("tr",[a("td",[t._v("訂單總計")]),a("td",[t._v("$ "+t._s(parseInt(t.order.total)))])])],2)]),t.order.message?a("div",[a("h5",{staticClass:"text-white text-center mb-2"},[t._v("留言")]),a("div",{staticClass:"col-sm-8 rounded border border-white text-white p-2 mb-4"},[a("p",[t._v(t._s(t.order.message))])])]):t._e(),a("h5",{staticClass:"text-white text-center mb-2"},[t._v("顧客資訊")]),a("table",{staticClass:"col-sm-8 text-white table mb-4"},[a("tr",[a("td",[t._v("姓名")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("td",[t._v("電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("td",[t._v("信箱")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("td",[t._v("地址")]),a("td",[t._v(t._s(t.order.user.address))])])]),a("h5",{staticClass:"text-white text-center mb-2"},[t._v("以上都確認無誤？")]),t.billPaid?t._e():a("button",{staticClass:"btn btn-lg btn-danger",on:{click:t.payBill}},[t._v(" 確認付款 ")]),a("router-link",{attrs:{to:"/"}},[t.billPaid?a("button",{staticClass:"btn btn-lg btn-success"},[t._v(" 返回首頁 ")]):t._e()])],1):t._e()},ha=[],ga={name:"Bill-Confirm",data:function(){return{order:null,billPaid:!1}},methods:{getBill:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/order/").concat(t);e.$http.get(a).then((function(t){e.order=t.data.order}))},payBill:function(){var t=this,e=t.order.id,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/pay/").concat(e);t.$http.post(a).then((function(e){e.data.success&&(t.$bus.$emit("message:push",e.data.message,"info"),t.billPaid=!0)}))}},mounted:function(){var t=this,e=t.$route.params.id;t.getBill(e)}},_a=ga,ba=Object(w["a"])(_a,fa,ha,!1,null,null,null),Ca=ba.exports,ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid d-flex flex-column align-items-center position-relative p-5"},[a("cart",{ref:"cart",on:{cartOpen:function(e){t.displayPage=!1},cartClose:function(e){t.displayPage=!0}}}),a("div",{staticClass:"item-bg"},[a("img",{attrs:{src:t.product.imageUrl}})]),a("div",{staticClass:"col-sm-8 product-detail m-5",class:t.scrollingSwitch},[a("div",{staticClass:"row text-white position-relative d-flex flex-column align-items-center"},[a("div",{staticClass:"d-flex mb-5 w-100 text-white"},[a("router-link",{staticClass:"text-white",attrs:{to:{name:"Homepage"}}},[t._v(" 首頁 ")]),a("span",{staticClass:"ml-1 mr-1"},[t._v("/")]),a("router-link",{staticClass:"text-white",attrs:{to:{name:"Custom_products"}}},[t._v(" 全部商品 ")]),a("span",{staticClass:"ml-1 mr-1"},[t._v("/")]),a("p",[t._v(t._s(t.product.unit)+" - "+t._s(t.product.title))])],1),a("img",{staticClass:"img-shadow mb-3 p-0",attrs:{src:t.product.imageUrl}}),a("div",{staticClass:"col-sm-6 d-flex flex-column align-items-end justify-content-center"},[a("h3",[t._v(" "+t._s(t.product.title)+" ")]),a("p",[t._v(" "+t._s(t.product.unit)+" ")]),a("p",[t._v(" "+t._s(t.product.content)+" ")]),t.product.origin_price!==t.product.price?a("p",{staticClass:"font-m mt-2 text-line-through"},[t._v(" $ "+t._s(t.product.origin_price)+" ")]):t._e(),a("p",{staticClass:"font-m mt-3"},[t._v(" $ "+t._s(t.product.price)+" ")]),a("div",{staticClass:"d-flex"},[a("qty-controller",{staticClass:"mt-2",attrs:{product:t.product},on:{updateQTY:t.updateQTY}},[a("button",{staticClass:"btn-neon-warning buy-btn h-100",on:{click:t.addToCart}},[t._v(" 購買 ")])])],1)])]),a("div",{staticClass:"row col-12 text-white mt-5 d-flex flex-column",staticStyle:{"white-space":"pre-line"}},[a("h3",{staticClass:"title-primary mb-2"},[t._v(" 曲目表 ")]),a("p",[t._v(" "+t._s(t.product.description)+" ")]),t.alikes.length>0?a("h3",{staticClass:"title-primary mb-4 text-left mt-5"},[t._v(" 類似商品 ")]):t._e(),t.alikes.length>0?a("div",{staticClass:"d-flex"},t._l(t.alikes,(function(t){return a("div",{key:t.title,staticClass:"alike-item"},[a("router-link",{attrs:{to:{name:"Product_detail",params:{id:t.id}},target:"_blank"}},[a("img",{staticClass:"img-shadow",attrs:{src:t.imageUrl}})])],1)})),0):t._e()])])],1)},xa=[],wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-items-center justify-content-end"},[a("button",{staticClass:"btn btn-border-warning mr-1 h-100",on:{click:function(e){t.qty-=1}}},[a("font-awesome-icon",{attrs:{icon:"minus"}})],1),a("p",{staticClass:"border border-warning text-center h-100 rounded pt-2 pb-2 text-white",staticStyle:{width:"50px"}},[t._v(" "+t._s(t.qty)+" ")]),a("button",{staticClass:"btn btn-border-warning ml-1 mr-3 h-100",on:{click:function(e){t.qty+=1}}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1),t._t("default")],2)},Pa=[],ka={name:"QTY-controller",props:["product"],data:function(){return{qty:1}},watch:{qty:{handler:function(t){if(t){var e=this;e.qty=t<0?0:t,e.$emit("updateQTY",e.qty)}}}}},$a=ka,Sa=(a("7723"),Object(w["a"])($a,wa,Pa,!1,null,null,null)),Ma=Sa.exports,Ta={name:"Product_detail",components:{Cart:Se,qtyController:Ma},data:function(){return{product:{},alikes:[],displayPage:!0,qty:1}},computed:{scrollingSwitch:function(){var t=this;return t.displayPage?"":"_stop-scrolling"}},beforeRouteLeave:function(t,e,a){var s=this;s.$bus.$emit("home-navbarClose"),a()},methods:{updateQTY:function(t){var e=this;e.qty=t},addToCart:function(){var t=this,e=t.$refs.cart,a=e.cart.filter((function(e){return e.product_id===t.product.id}));if(a.length>0)t.$bus.$emit("message:push","購物車已經有這項物品","info");else{var s="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/cart");t.$http.post(s,{data:{product_id:t.product.id,qty:t.qty}}).then((function(a){t.$bus.$emit("message:push",a.data.message,"info"),e.getCart()}))}},getAlikes:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/products/all");t.$http.get(e).then((function(e){var a=e.data.products.filter((function(e){return e.category===t.product.category})),s=4;if(a.length<=s)t.alikes=a;else if(a.length>s){var n,i=parseInt(Math.random()*a.length-s,10);n=i>0?i*a.length-s:0,t.alikes=a.slice(n,n+s)}}))}},mounted:function(){var t=this,e=t.$route.params.id,a="".concat("https://vue-course-api.hexschool.io/","api/").concat("recafox","/product/").concat(e);t.$http.get(a).then((function(e){t.product=e.data.product,t.getAlikes()}))}},qa=Ta,Oa=(a("2c0e"),Object(w["a"])(qa,ya,xa,!1,null,"d0cc2b6c",null)),Ea=Oa.exports,ja=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Na=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-3 d-flex flex-column align-items-center"},[a("h2",{staticClass:"title-primary m-top"},[t._v("常見問答")]),a("div",{staticClass:"col-sm-8 text-white mt-4"},[a("h3",[t._v("退換貨說明")]),a("div",{staticClass:"p-2 text-container"},[a("ul",[a("li",[t._v(" 請注意：商品一經開封，恕無法辦理退貨，敬請見諒。（外包塑膠膜已撕開或商品塑膠袋已打開，即算開封狀態） ")]),a("li",[t._v(" 依《消費者保護法》，消費者享有7天猶豫期之權益，收到商品超過7天，恕不接受退貨。 ")]),a("li",[t._v(" 請務必完整保留包裹中的包裝材料，退貨商品須完整保護包裝，若回收商品後發現商品外觀有瑕疵，我們將保留退貨退款的權利。 ")]),a("li",[t._v(" 如因退貨收件地址填寫錯誤（廠商上收退貨時）或產生的其他因素，導致本公司無法取得退貨商品，將會延長退換貨時間，並會由您支付額外的退換貨運費。 ")]),a("li",[t._v(" 若您於本網站3個月內退貨次數超過5次或有其他異常者，本網站有權不經事先通知，逕行限制您使用會員帳號的權利，若造成您的不便，敬請見諒。 ")])])]),a("h3",{staticClass:"mt-5"},[t._v("可以代訂商品嗎？")]),a("div",{staticClass:"p-2 text-container"},[a("p",[t._v(" 可以！請您將商品資料包含產品條碼或編號、藝人、專輯名稱等資料寄到客服信箱，資料的齊全程度會影響我們的客服處理速度。 ")])]),a("h3",{staticClass:"mt-5"},[t._v("約多久能收到商品？")]),a("div",{staticClass:"p-2 text-container"},[a("p",[t._v(" 如您的訂單為現貨商品(已到貨商品)： "),a("ul",{staticStyle:{"list-style":"disc"}},[a("li",[t._v(" 使用「信用卡刷卡」、「貨到付款」、「ATM轉帳/匯款」、「支付寶付款」之訂單：於本站出貨後預計1-2日送達(如遇連續假日將順延)。配送至國內離島地區、國外除外。 ")]),a("li",[t._v(" 使用「便利商店取貨付款」之訂單：於本站出貨後預計2-4個工作日送達指定門市(如遇連續假日將順延)。如您需在短時間內收到商品(例如參加活動)，請改用其他付款方式。 ")])]),t._v(" 如您的訂單包含預購商品(未到貨商品)，將待全部商品到貨後出貨，無法分開處理。 "),a("ul",{staticStyle:{"list-style":"disc"}},[a("li",[t._v(" 國外發行之進口商品，因下單訂購的時間問題，有可能無法於發行當周到貨。預計到貨日依本站商品頁面說明為主。 ")]),a("li",[t._v(" 台灣唱片公司代理進口商品，依台灣唱片公司到貨時間為主。 ")])])])])])])}],Aa={name:"Customer_QA",beforeRouteLeave:function(t,e,a){var s=this;s.$bus.$emit("home-navbarClose"),a()}},Da=Aa,Ia=(a("0d4c"),Object(w["a"])(Da,ja,Na,!1,null,"187f8e4a",null)),Ba=Ia.exports;p["a"].use(h["a"]);var Ua=[{path:"*",redirect:"/homepage"},{path:"/homepage",component:me,children:[{path:"",name:"Homepage",component:aa},{path:"qa-corner",name:"Customer_QA",component:Ba},{path:"customer-products",name:"Custom_products",component:ca},{path:"/detail/:id",name:"Product_detail",component:Ea},{path:"customer-cart",name:"Custom_cart",component:Se},{path:"customer-bill",name:"Custom_bill",component:va}]},{path:"/customer-billConfirm/:id",name:"Customer_billConfirm",component:Ca},{path:"/login",name:"Login",component:T},{path:"/welcome",name:"Welcome",component:rt,meta:{requiresAuth:!0}},{path:"/admin",name:"Admin",component:z,meta:{requiresAuth:!0},children:[{path:"products",name:"Products",component:kt,meta:{requiresAuth:!0}},{path:"coupon",name:"Coupon",component:Ot,meta:{requiresAuth:!0}},{path:"orderlist",name:"orderlist",component:It,meta:{requiresAuth:!0}}]}],La=new h["a"]({routes:Ua}),Qa=La,Ha=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},Ra=[],Wa=(a("5c0b"),{}),Fa=Object(w["a"])(Wa,Ha,Ra,!1,null,null,null),Va=Fa.exports;p["a"].prototype.$bus=new p["a"],c["c"].add(d["e"],d["g"],d["a"],d["f"],d["c"],d["d"],d["b"]),c["c"].add(u["c"],u["a"],u["d"],u["b"]),p["a"].component("font-awesome-icon",l["a"]),p["a"].filter("converseTime",f),p["a"].component("ValidationProvider",m["b"]),p["a"].component("ValidationObserver",m["a"]),Object(m["c"])("email",Object(s["a"])({},v["a"],{message:"郵件地址不正確"})),Object(m["c"])("required",Object(s["a"])({},v["c"],{message:"這是必填欄位"})),Object(m["c"])("numeric",Object(s["a"])({},v["b"],{message:"請輸入正確電話號碼"})),p["a"].config.productionTip=!1,p["a"].use(r.a,i.a),p["a"].config.productionTip=!1,i.a.defaults.withCredentials=!0,new p["a"]({router:Qa,render:function(t){return t(Va)}}).$mount("#app"),Qa.beforeEach((function(t,e,a){if(a(),t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io/","api/user/check");i.a.post(s).then((function(t){t.data.success?a():a({path:"/login"})}))}else a()}))},5923:function(t,e,a){},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"641e":function(t,e,a){"use strict";var s=a("d8f8"),n=a.n(s);n.a},"671b":function(t,e,a){"use strict";var s=a("4391"),n=a.n(s);n.a},"67f9":function(t,e,a){},"6ddc":function(t,e,a){"use strict";var s=a("32ec"),n=a.n(s);n.a},"713f":function(t,e,a){"use strict";var s=a("5923"),n=a.n(s);n.a},"723a":function(t,e,a){},"73e5":function(t,e,a){"use strict";var s=a("fec1"),n=a.n(s);n.a},7723:function(t,e,a){"use strict";var s=a("7e3f"),n=a.n(s);n.a},7733:function(t,e,a){},"7a71":function(t,e,a){},"7e3f":function(t,e,a){},"7e83":function(t,e,a){"use strict";var s=a("1d5d"),n=a.n(s);n.a},"802b":function(t,e,a){},"89c7":function(t,e,a){},"8c8f":function(t,e,a){"use strict";var s=a("3a10"),n=a.n(s);n.a},"8dcd":function(t,e,a){"use strict";var s=a("237f"),n=a.n(s);n.a},"8e30":function(t,e,a){},9302:function(t,e,a){},"96ee":function(t,e,a){"use strict";var s=a("b5e4"),n=a.n(s);n.a},"9c0c":function(t,e,a){},"9d0f":function(t,e,a){"use strict";var s=a("e861"),n=a.n(s);n.a},a072:function(t,e,a){"use strict";var s=a("89c7"),n=a.n(s);n.a},adbc:function(t,e,a){"use strict";var s=a("e48c"),n=a.n(s);n.a},ae63:function(t,e,a){"use strict";var s=a("7733"),n=a.n(s);n.a},b5e4:function(t,e,a){},b7e9:function(t,e,a){},ba75:function(t,e,a){"use strict";var s=a("7a71"),n=a.n(s);n.a},bbe6:function(t,e,a){"use strict";var s=a("67f9"),n=a.n(s);n.a},d054:function(t,e,a){},d8f8:function(t,e,a){},dd06:function(t,e,a){"use strict";var s=a("8e30"),n=a.n(s);n.a},e318:function(t,e,a){"use strict";var s=a("723a"),n=a.n(s);n.a},e364:function(t,e,a){},e48c:function(t,e,a){},e861:function(t,e,a){},fec1:function(t,e,a){},fec6:function(t,e,a){"use strict";var s=a("e364"),n=a.n(s);n.a}});
//# sourceMappingURL=app.5932af10.js.map